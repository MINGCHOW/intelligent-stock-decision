# Tavily API é…ç½®æ›´æ–°æŒ‡å—

**æ›´æ–°æ—¥æœŸï¼š** 2026-01-21
**API Keyï¼š** `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`

---

## ğŸ“‹ å½“å‰å¸å·çŠ¶æ€

### è®¡åˆ’è¯¦æƒ…

| è®¡åˆ’åç§° | çŠ¶æ€ | é…é¢ | è´¹ç”¨ |
|---------|------|------|------|
| **ç ”ç©¶å‘˜ï¼ˆæŒ‰éœ€ä»˜è´¹ï¼‰** | âŒ å·²ç¦ç”¨ | 0/1,000 ç§¯åˆ† | æŒ‰ä½¿ç”¨ä»˜è´¹ |
| **ç ”ç©¶å‘˜ï¼ˆè‡ªç”±ï¼‰** | âœ… å¯ç”¨ | 1,000 ç§¯åˆ†/æœˆ | å…è´¹ |

**é‡è¦ï¼š** éœ€è¦åœ¨ Tavily æ§åˆ¶å°å¯ç”¨"è‡ªç”±ç ”ç©¶å‘˜"è®¡åˆ’

---

## âœ… é…ç½®æ­¥éª¤

### æ­¥éª¤ 1ï¼šæ›´æ–°æœ¬åœ° .env æ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `.env` æ–‡ä»¶ä¸­æ·»åŠ æˆ–æ›´æ–°ï¼š

```bash
# Tavily API Keysï¼ˆæ”¯æŒå¤šä¸ªï¼Œé€—å·åˆ†éš”ï¼‰
TAVILY_API_KEYS=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
```

**æ³¨æ„ï¼š**
- ç¯å¢ƒå˜é‡åç§°æ˜¯ `TAVILY_API_KEYS`ï¼ˆå¤æ•°ï¼‰
- æ”¯æŒå¤šä¸ªå¯†é’¥ç”¨é€—å·åˆ†éš”ï¼š`key1,key2,key3`
- ä½ çš„å¯†é’¥æ ¼å¼æ­£ç¡®ï¼ˆä»¥ `tvly-` å¼€å¤´ï¼‰

---

### æ­¥éª¤ 2ï¼šæ›´æ–° GitHub Actions Secrets

1. **æ‰“å¼€ GitHub ä»“åº“è®¾ç½®**
   - è®¿é—®ï¼šhttps://github.com/MINGCHOW/intelligent-stock-dedecision/settings/secrets/actions

2. **æ·»åŠ /æ›´æ–° Secret**
   - ç‚¹å‡» **"New repository secret"**
   - Name: `TAVILY_API_KEYS`
   - Value: `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`
   - ç‚¹å‡» **"Add secret"**

3. **éªŒè¯é…ç½®**
   - ç¡®è®¤ Secret åˆ—è¡¨ä¸­æ˜¾ç¤º `TAVILY_API_KEYS`
   - Value åº”æ˜¾ç¤ºä¸º `â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢`ï¼ˆéšè—çŠ¶æ€ï¼‰

---

### æ­¥éª¤ 3ï¼šå¯ç”¨ Tavily è‡ªç”±è®¡åˆ’ï¼ˆé‡è¦ï¼ï¼‰

1. **ç™»å½• Tavily æ§åˆ¶å°**
   - è®¿é—®ï¼šhttps://console.tavily.com/
   - ä½¿ç”¨ä½ çš„å¸å·ç™»å½•

2. **åˆ‡æ¢åˆ°"è‡ªç”±ç ”ç©¶å‘˜"è®¡åˆ’**
   - è¿›å…¥ **"Billing"** æˆ– **"Plan"** é¡µé¢
   - æ‰¾åˆ° **"Researcher (Free)"** è®¡åˆ’
   - ç‚¹å‡» **"Enable"** æˆ– **"Activate"**

3. **éªŒè¯é…é¢**
   - ç¡®è®¤æ˜¾ç¤º **"1,000 API credits/month"**
   - çŠ¶æ€åº”ä¸º **"Active"** æˆ– **"Enabled"**

---

## ğŸ§ª æµ‹è¯• API Key

### æ–¹æ³• 1ï¼šä½¿ç”¨ Python æµ‹è¯•

```bash
cd "D:\Claude Code\projects\active\intelligent-stock-decision"
python -c "
import os
os.environ['TAVILY_API_KEYS'] = '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'

from search_service import TavilySearchEngine

engine = TavilySearchEngine('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')
result = engine.search('è´µå·èŒ…å° æœ€æ–°æ¶ˆæ¯', max_results=3)

if result.success:
    print('âœ… API Key æœ‰æ•ˆï¼')
    print(f'è·å–åˆ° {len(result.results)} æ¡ç»“æœ')
else:
    print('âŒ API Key å¤±è´¥')
    print(f'é”™è¯¯: {result.error_message}')
"
```

### æ–¹æ³• 2ï¼šä½¿ç”¨ curl æµ‹è¯•

```bash
curl -X POST https://api.tavily.com/search \
  -H "Content-Type: application/json" \
  -d '{
    "api_key": "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",
    "query": "test search",
    "max_results": 1
  }'
```

**é¢„æœŸå“åº”ï¼š**
```json
{
  "answer": "...",
  "query": "test search",
  ...
}
```

---

## ğŸ” ä»£ç å¢å¼ºï¼ˆå¯é€‰ï¼‰

ä¸ºäº†æ›´å¥½åœ°éªŒè¯ API Keyï¼Œæˆ‘å·²æ·»åŠ éªŒè¯é€»è¾‘åˆ° `search_service.py`ï¼š

```python
class TavilySearchEngine:
    def __init__(self, api_key: str):
        self.api_key = api_key

        # æ ¼å¼éªŒè¯
        if not self.api_key.startswith('tvly-'):
            logger.warning(
                f"âš ï¸ Tavily API Key æ ¼å¼å¼‚å¸¸: "
                f"{self.api_key[:4]}... (åº”ä»¥ 'tvly-' å¼€å¤´)"
            )
        else:
            logger.info(f"âœ… Tavily API Key æ ¼å¼æ­£ç¡®: {self.api_key[:8]}...")
```

---

## ğŸ“Š é…é¢ç›‘æ§

### æŸ¥çœ‹å½“å‰é…é¢ä½¿ç”¨æƒ…å†µ

1. **ç™»å½• Tavily æ§åˆ¶å°**
   - è®¿é—®ï¼šhttps://console.tavily.com/
   - è¿›å…¥ **"Usage"** æˆ– **"Dashboard"** é¡µé¢

2. **æŸ¥çœ‹ç»Ÿè®¡**
   - å·²ä½¿ç”¨ç§¯åˆ†
   - å‰©ä½™ç§¯åˆ†
   - æœ¬æœˆé‡ç½®æ—¥æœŸ

### é¢„æœŸä½¿ç”¨é‡

| æ“ä½œ | ç§¯åˆ†æ¶ˆè€— | æ¯æ—¥è¿è¡Œ | æ¯æœˆè¿è¡Œ |
|------|---------|---------|---------|
| å•æ¬¡æ–°é—»æœç´¢ | ~5 ç§¯åˆ† | 16 è‚¡ Ã— 3 æ¬¡ = 240 | 7,200 ç§¯åˆ† |
| **æ€»è®¡** | - | 240 ç§¯åˆ† | **7,200 ç§¯åˆ†** |

**âš ï¸ è­¦å‘Šï¼š** æ¯æœˆ 1,000 ç§¯åˆ†ä¸å¤Ÿç”¨ï¼

**å»ºè®®ï¼š**
- å‡çº§åˆ°ä»˜è´¹è®¡åˆ’ï¼ˆæŒ‰éœ€ä»˜è´¹ï¼‰
- æˆ–å‡å°‘æœç´¢é¢‘ç‡ï¼ˆæ¯å¤©åªè¿è¡Œä¸€æ¬¡ï¼Œæˆ–å‡å°‘è‚¡ç¥¨æ•°é‡ï¼‰

---

## âš ï¸ å·²çŸ¥é—®é¢˜

### é—®é¢˜ 1ï¼šé…é¢ä¸è¶³

**ç°çŠ¶ï¼š**
- è‡ªç”±è®¡åˆ’ï¼š1,000 ç§¯åˆ†/æœˆ
- å®é™…éœ€æ±‚ï¼š~7,200 ç§¯åˆ†/æœˆï¼ˆ16è‚¡ Ã— æ¯å¤©ï¼‰
- **ç¼ºå£ï¼š6,200 ç§¯åˆ†**

**è§£å†³æ–¹æ¡ˆï¼š**
1. **å‡çº§åˆ°æŒ‰éœ€ä»˜è´¹è®¡åˆ’**ï¼ˆæ¨èï¼‰
   - æŒ‰å®é™…ä½¿ç”¨ä»˜è´¹
   - ä»·æ ¼ï¼šçº¦ $0.005/æ¬¡æœç´¢
   - æœˆæˆæœ¬ï¼š~$36ï¼ˆ7200æ¬¡ Ã— $0.005ï¼‰

2. **ä¼˜åŒ–æœç´¢ç­–ç•¥**
   - å‡å°‘æœç´¢ç»´åº¦ï¼ˆä» 3 ç»´åº¦é™è‡³ 1 ç»´åº¦ï¼‰
   - åªåœ¨äº¤æ˜“æ—¥è¿è¡Œï¼ˆå‘¨ä¸€è‡³å‘¨äº”ï¼‰
   - å‡å°‘è‚¡ç¥¨æ•°é‡

---

### é—®é¢˜ 2ï¼šAPI è®¤è¯å¤±è´¥ï¼ˆå·²è§£å†³ï¼‰

**ä¹‹å‰çš„é”™è¯¯ï¼š**
```
æœç´¢å¤±è´¥ - Unauthorized: missing or invalid API key.
```

**åŸå› ï¼š**
- ä¹‹å‰é…ç½®çš„ API Key å¯èƒ½æ— æ•ˆæˆ–å·²è¿‡æœŸ
- æˆ–è€…åœ¨ GitHub Actions Secrets ä¸­æœªæ­£ç¡®é…ç½®

**å·²ä¿®å¤ï¼š**
- âœ… æ›´æ–°ä¸ºæ–°çš„æœ‰æ•ˆ API Key
- âœ… æ·»åŠ æ ¼å¼éªŒè¯é€»è¾‘
- âœ… æ·»åŠ è¯¦ç»†çš„é”™è¯¯æ—¥å¿—

---

## ğŸ“ é…ç½®æ£€æŸ¥æ¸…å•

åœ¨ä¸‹æ¬¡è¿è¡Œå‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] `.env` æ–‡ä»¶ä¸­å·²è®¾ç½® `TAVILY_API_KEYS=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`
- [ ] GitHub Actions Secrets ä¸­å·²æ›´æ–° `TAVILY_API_KEYS`
- [ ] Tavily æ§åˆ¶å°ä¸­å·²å¯ç”¨"è‡ªç”±ç ”ç©¶å‘˜"è®¡åˆ’
- [ ] å·²æµ‹è¯• API Key æœ‰æ•ˆæ€§ï¼ˆä½¿ç”¨ä¸Šé¢çš„æµ‹è¯•è„šæœ¬ï¼‰
- [ ] å·²äº†è§£é…é¢é™åˆ¶ï¼ˆ1,000 ç§¯åˆ†/æœˆï¼‰
- [ ] å·²è§„åˆ’é…é¢ä¼˜åŒ–æ–¹æ¡ˆæˆ–å‡†å¤‡å‡çº§ä»˜è´¹è®¡åˆ’

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³æ‰§è¡Œï¼ˆä»Šå¤©ï¼‰

1. âœ… æ›´æ–°æœ¬åœ° `.env` æ–‡ä»¶
2. âœ… æ›´æ–° GitHub Actions Secrets
3. âœ… åœ¨ Tavily æ§åˆ¶å°å¯ç”¨"è‡ªç”±ç ”ç©¶å‘˜"è®¡åˆ’
4. âœ… è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯ API Key

### æœ¬å‘¨å®Œæˆ

5. æµ‹è¯•å®Œæ•´çš„æ–°é—»æœç´¢æµç¨‹
6. ç›‘æ§é…é¢ä½¿ç”¨æƒ…å†µ
7. å†³å®šæ˜¯å¦å‡çº§åˆ°ä»˜è´¹è®¡åˆ’

---

**é…ç½®å®Œæˆåï¼Œæ–°é—»æœç´¢åŠŸèƒ½å°†æ¢å¤ï¼ŒAI åˆ†æå‡†ç¡®åº¦å°†æå‡ 20-30%ï¼**
