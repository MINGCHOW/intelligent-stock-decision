# ===================================
# Intelligent Stock Decision System - 环境变量配置模板
# 复制此文件为 .env 并填入真实配置
# ===================================

# ========== AI 模型配置（二选一，至少配置一个）==========
#
# 【方案一】使用 Gemini（推荐，有免费额度）
# 从 https://aistudio.google.com/ 获取免费 API Key
# 留空或删除此行则跳过 Gemini，直接使用方案二
#
GEMINI_API_KEY=
GEMINI_MODEL=gemini-2.0-flash
GEMINI_MODEL_FALLBACK=gemini-1.5-flash
GEMINI_REQUEST_DELAY=2.0

# 【方案二】使用 OpenAI 兼容 API（支持多种国产模型）
# 如果不想用 Gemini，可以只配置下面三项（去掉注释）
# 支持：OpenAI、DeepSeek、通义千问、Moonshot、智谱GLM 等
#
# ┌──────────────────────────────────────────────────────────────┐
# │ 配置规则：                                                    │
# │   OPENAI_API_KEY   = 必填，你的 API Key                      │
# │   OPENAI_BASE_URL  = 可选，第三方 API 地址（OpenAI官方可不填）│
# │   OPENAI_MODEL     = 可选，模型名称（默认 gpt-4o-mini）       │
# └──────────────────────────────────────────────────────────────┘
#
# --- OpenAI 官方（只需填 Key）---
# OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxx
#
# --- DeepSeek（国产，便宜好获取）---
# OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxx
# OPENAI_BASE_URL=https://api.deepseek.com/v1
# OPENAI_MODEL=deepseek-chat

# ========== 搜索引擎配置（第四层舆情过滤）==========
# ⚠️ 至少配置一个，推荐使用 Tavily（搜索质量最高）
# 用于检测重大利空（财务造假、立案调查等）和利好消息
#
# Tavily API Keys（支持多个，逗号分隔）
TAVILY_API_KEYS=your_tavily_key_here
# SerpAPI Keys（支持多个，逗号分隔）
SERPAPI_API_KEYS=your_serpapi_key_here
# Bocha API（博查搜索，中文优化，支持AI摘要）
BOCHA_API_KEYS=your_bocha_key_here

# ========== 通知渠道配置（可同时配置多个，全部推送）==========
#
# 【方式一】企业微信机器人
# 在企业微信群 -> 设置 -> 群机器人 -> 添加 -> 复制 Webhook 地址
#
# WECHAT_WEBHOOK_URL=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=your_key_here
#
# 【方式二】飞书机器人
# 在飞书群 -> 设置 -> 群机器人 -> 添加机器人 -> 自定义机器人 -> 复制 Webhook 地址
#
# FEISHU_WEBHOOK_URL=https://open.feishu.cn/open-apis/bot/v2/hook/your_key_here
#
# 【方式三】Telegram 机器人（需同时配置两项）
# 1. 在 Telegram 找 @BotFather -> /newbot -> 获取 Bot Token
# 2. 获取 Chat ID：发消息给 @userinfobot 或访问 https://api.telegram.org/bot<token>/getUpdates
#
# TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
# TELEGRAM_CHAT_ID=123456789
#
# 【方式四】邮件推送（只需 2 项配置，SMTP 自动识别）
# 支持 QQ邮箱、163邮箱、Gmail、Outlook 等主流邮箱
# 1. 获取授权码（以QQ邮箱为例）：设置 -> 账户 -> POP3/SMTP服务 -> 开启 -> 获取授权码
# 2. 填写下面两项即可：
#
# EMAIL_SENDER=your_email@qq.com
# EMAIL_PASSWORD=your_email_auth_code
# EMAIL_RECEIVERS=receiver@example.com  # 可选，留空则发给自己
#
# 【方式五】自定义 Webhook（支持多个，逗号分隔）
# 适用于：钉钉、Discord、Slack、Bark、自建服务等任意支持 POST JSON 的 Webhook
# 系统会自动识别常见服务并使用对应格式
#
# CUSTOM_WEBHOOK_URLS=https://oapi.dingtalk.com/robot/send?access_token=xxx,https://hooks.slack.com/services/xxx
# CUSTOM_WEBHOOK_BEARER_TOKEN=your_bearer_token  # 可选，用于需要认证的 Webhook (Header Authorization: Bearer <token>)
#
# 【方式六】Pushover 配置
# 注册Pushover账号，并创建应用Token https://pushover.net/apps/build
# PUSHOVER_USER_KEY=your_user_key
# PUSHOVER_API_TOKEN=your_api_token
#
# 【高级配置】消息长度限制（字节）
# 超过限制会自动分批发送，一般无需修改
# FEISHU_MAX_BYTES=20000    # 飞书限制约 20KB，默认 20000 字节
# WECHAT_MAX_BYTES=4000     # 企业微信限制 4096 字节，默认 4000 字节

# ========== 飞书云文档配置（可选，解决消息截断问题）==========
# 1. 在 https://open.feishu.cn/app 创建应用
# 2. 配置 GitHub Secrets
# 3. 创建群组并添加应用机器人
# 4. 在云盘文件夹中添加群组为协作者（可管理权限）
# FEISHU_APP_ID=your_feishu_app_id
# FEISHU_APP_SECRET=your_feishu_app_secret
# FEISHU_FOLDER_TOKEN=your_feishu_folder_token

# ========== 数据源配置（可选）==========
# Tushare Pro Token（可选，从 https://tushare.pro 获取）
TUSHARE_TOKEN=your_tushare_token_here

# ========== 自选股配置（必填）==========
# 支持A股和港股混合配置
# A股：6位数字代码，如 600519（贵州茅台）、000001（平安银行）
# 港股：xxx.HK 格式，如 00700.HK（腾讯）、00941.HK（中国移动）
# 混合示例：600519,00700.HK,000001
STOCK_LIST=600519,000001,300750

# ========== 其他配置 ==========
# 日志目录
LOG_DIR=./logs

# 并发线程数（建议3-5，避免触发限流）
MAX_CONCURRENT=3

# 获取数据天数（建议60天）
DATA_DAYS=60

# 大盘复盘（true/false）
MARKET_REVIEW_ENABLED=true

# 定时任务（true/false）
SCHEDULE_ENABLED=false
SCHEDULE_TIME=18:00

# 单股推送模式（true/false）
SINGLE_STOCK_NOTIFY=false

# 数据库路径（可选，默认 ./data/stock_analysis.db）
# DATABASE_PATH=/app/data/stock_analysis.db
